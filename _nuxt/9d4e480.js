(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{206:function(t,e,n){},207:function(t,e,n){},208:function(t,e,n){},209:function(t,e,n){},212:function(t,e,n){"use strict";n(206)},213:function(t,e,n){"use strict";n(207)},214:function(t,e,n){"use strict";n(208)},215:function(t,e,n){"use strict";n(209)},216:function(t,e,n){"use strict";n.r(e);n(24);var r=n(203),l=n.n(r),o=n(201),c={props:{time:{type:String,default:"00:00"}},data:function(){return{num1:"0",num2:"0",num3:"0",num4:"0"}},created:function(){for(var i=0;i<this.time.length;i++)i<2&&(this["num".concat(i+1)]=this.time[i]),i>2&&(this["num".concat(i)]=this.time[i])}},v=(n(212),n(15)),d={components:{electronicClock:Object(v.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"wrap"},[n("div",{staticClass:"digitalitem hour-1",class:"num-"+t.num1},[n("div",{staticClass:"digitalbody h1"}),t._v(" "),n("div",{staticClass:"digitalbody h2"}),t._v(" "),n("div",{staticClass:"digitalbody h3"}),t._v(" "),n("div",{staticClass:"digitalbody v1"}),t._v(" "),n("div",{staticClass:"digitalbody v2"}),t._v(" "),n("div",{staticClass:"digitalbody v3"}),t._v(" "),n("div",{staticClass:"digitalbody v4"})]),t._v(" "),n("div",{staticClass:"digitalitem hour-2",class:"num-"+t.num2},[n("div",{staticClass:"digitalbody h1"}),t._v(" "),n("div",{staticClass:"digitalbody h2"}),t._v(" "),n("div",{staticClass:"digitalbody h3"}),t._v(" "),n("div",{staticClass:"digitalbody v1"}),t._v(" "),n("div",{staticClass:"digitalbody v2"}),t._v(" "),n("div",{staticClass:"digitalbody v3"}),t._v(" "),n("div",{staticClass:"digitalbody v4"})]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"digitalitem min-1",class:"num-"+t.num3},[n("div",{staticClass:"digitalbody h1"}),t._v(" "),n("div",{staticClass:"digitalbody h2"}),t._v(" "),n("div",{staticClass:"digitalbody h3"}),t._v(" "),n("div",{staticClass:"digitalbody v1"}),t._v(" "),n("div",{staticClass:"digitalbody v2"}),t._v(" "),n("div",{staticClass:"digitalbody v3"}),t._v(" "),n("div",{staticClass:"digitalbody v4"})]),t._v(" "),n("div",{staticClass:"digitalitem min-2",class:"num-"+t.num4},[n("div",{staticClass:"digitalbody h1"}),t._v(" "),n("div",{staticClass:"digitalbody h2"}),t._v(" "),n("div",{staticClass:"digitalbody h3"}),t._v(" "),n("div",{staticClass:"digitalbody v1"}),t._v(" "),n("div",{staticClass:"digitalbody v2"}),t._v(" "),n("div",{staticClass:"digitalbody v3"}),t._v(" "),n("div",{staticClass:"digitalbody v4"})])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"digitalitem separate1"},[e("div",{staticClass:"dot"})])}],!1,null,"369f17fa",null).exports},data:function(){return{northData:[],southData:[]}},created:function(){this.getBannerData()},methods:{getBannerData:function(){var t=this,time=l()().format("HH:mm");this.$axios.get("/v2/Rail/THSR/AvailableSeatStatusList?&$orderby=DepartureTime%20asc&$top=50&&$format=JSON&$filter=DepartureTime%20ge%20'".concat(time,"'"),{headers:this.getAuthorizationHeader()}).then((function(e){var n=JSON.parse(JSON.stringify(e.data.AvailableSeats));t.southData=n.filter((function(t){return 0===t.Direction})).filter((function(t,i){return i<7})),t.northData=n.filter((function(t){return 1===t.Direction})).filter((function(t,i){return i<7}))}))},getAuthorizationHeader:function(){var t=(new Date).toGMTString(),e=new o.a("SHA-1","TEXT");e.setHMACKey("f_cWs8Qm3fXmoY5H8jrA4aWbcog","TEXT"),e.update("x-date: "+t);var n=e.getHMAC("B64");return{Authorization:'hmac username="'.concat("4a642955ffbe4621967b643c51372922",'", algorithm="hmac-sha1", headers="x-date", signature="').concat(n,'"'),"X-Date":t}}}},_=(n(213),Object(v.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"banner"},[n("div",{staticClass:"banner__north"},[n("p",{staticClass:"p-2 font-l weight-l align-center bg-gray-100"},[t._v("\n        南下車次\n      ")]),t._v(" "),n("table",{staticClass:"width-20"},[t._m(0),t._v(" "),n("tbody",t._l(t.southData,(function(e,r){return n("tr",{key:"sourth"+r},[n("td",{staticClass:"font-l align-center tx-primary weight-l"},[t._v("\n              "+t._s(e.TrainNo)+"\n            ")]),t._v(" "),n("td",{staticClass:"font-l align-center tx-info weight-l"},[t._v("\n              "+t._s(e.StationName.Zh_tw)+"\n            ")]),t._v(" "),n("td",{staticClass:"font-l align-center tx-danger weight-l"},[t._v("\n              "+t._s(e.EndingStationName.Zh_tw)+"\n            ")]),t._v(" "),n("td",[n("electronicClock",{attrs:{time:e.DepartureTime}})],1),t._v(" "),n("td",{staticClass:"font-l align-center tx-success weight-l"},[t._v("\n              準點\n            ")])])})),0)])]),t._v(" "),n("div",{staticClass:"banner__north"},[n("p",{staticClass:"p-2 font-l weight-l align-center bg-gray-100"},[t._v("\n        北上車次\n      ")]),t._v(" "),n("table",{staticClass:"width-20"},[t._m(1),t._v(" "),n("tbody",t._l(t.northData,(function(e,r){return n("tr",{key:"north"+r},[n("td",{staticClass:"font-l align-center tx-primary weight-l"},[t._v("\n              "+t._s(e.TrainNo)+"\n            ")]),t._v(" "),n("td",{staticClass:"font-l align-center tx-info weight-l"},[t._v("\n              "+t._s(e.StationName.Zh_tw)+"\n            ")]),t._v(" "),n("td",{staticClass:"font-l align-center tx-danger weight-l"},[t._v("\n              "+t._s(e.EndingStationName.Zh_tw)+"\n            ")]),t._v(" "),n("td",[n("electronicClock",{attrs:{time:e.DepartureTime}})],1),t._v(" "),n("td",{staticClass:"font-l align-center tx-success weight-l"},[t._v("\n              準點\n            ")])])})),0)])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"tx-white"},[n("th",{staticClass:"font-l"},[t._v("\n            車次\n          ")]),t._v(" "),n("th",{staticClass:"font-l"},[t._v("\n            起程站\n          ")]),t._v(" "),n("th",{staticClass:"font-l"},[t._v("\n            到達站\n          ")]),t._v(" "),n("th",{staticClass:"font-l",attrs:{width:"210px"}},[t._v("\n            發車時間\n          ")]),t._v(" "),n("th",{staticClass:"font-l",attrs:{width:"80px"}},[t._v("\n            狀況\n          ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"tx-white"},[n("th",{staticClass:"font-l"},[t._v("\n            車次\n          ")]),t._v(" "),n("th",{staticClass:"font-l"},[t._v("\n            起程站\n          ")]),t._v(" "),n("th",{staticClass:"font-l"},[t._v("\n            到達站\n          ")]),t._v(" "),n("th",{staticClass:"font-l",attrs:{width:"210px"}},[t._v("\n            發車時間\n          ")]),t._v(" "),n("th",{staticClass:"font-l",attrs:{width:"80px"}},[t._v("\n            狀況\n          ")])])}],!1,null,"9710160c",null).exports),h={data:function(){return{stationData:[],startStation:"0990",endStation:"1070",goDate:l()().format("YYYY-MM-DD")}},created:function(){this.getStationData()},methods:{search:function(){this.$router.push({path:"/search",query:{startStation:this.startStation,endStation:this.endStation,goDate:this.goDate}})},getStationData:function(){var t=this;this.$axios.get("/v2/Rail/THSR/Station",{headers:this.getAuthorizationHeader()}).then((function(e){var n=JSON.parse(JSON.stringify(e.data));t.stationData=n}))},getAuthorizationHeader:function(){var t=(new Date).toGMTString(),e=new o.a("SHA-1","TEXT");e.setHMACKey("f_cWs8Qm3fXmoY5H8jrA4aWbcog","TEXT"),e.update("x-date: "+t);var n=e.getHMAC("B64");return{Authorization:'hmac username="'.concat("4a642955ffbe4621967b643c51372922",'", algorithm="hmac-sha1", headers="x-date", signature="').concat(n,'"'),"X-Date":t}}}},f=(n(214),Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"mx-auto my-0 h-container"},[t._m(0),t._v(" "),n("div",{staticClass:"wrap"},[n("div",{staticClass:"wrap__col"},[n("label",{staticClass:"wrap__label",attrs:{for:"startStation"}},[t._v("起程站")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.startStation,expression:"startStation"}],staticClass:"wrap__select",attrs:{id:"startStation"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.startStation=e.target.multiple?n:n[0]}}},t._l(t.stationData,(function(e){return n("option",{key:e.StationID,domProps:{value:e.StationID}},[t._v("\n          "+t._s(e.StationName.Zh_tw)+"\n        ")])})),0)]),t._v(" "),n("div",{staticClass:"wrap__col"},[n("label",{staticClass:"wrap__label",attrs:{for:"endStation"}},[t._v("到達站")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.endStation,expression:"endStation"}],staticClass:"wrap__select",attrs:{id:"endStation"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.endStation=e.target.multiple?n:n[0]}}},t._l(t.stationData,(function(e){return n("option",{key:e.StationID,domProps:{value:e.StationID}},[t._v("\n          "+t._s(e.StationName.Zh_tw)+"\n        ")])})),0)]),t._v(" "),n("div",{staticClass:"wrap__col"},[n("label",{staticClass:"wrap__label",attrs:{for:"date"}},[t._v("去程日期")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.goDate,expression:"goDate"}],staticClass:"wrap__input",attrs:{id:"date",type:"date"},domProps:{value:t.goDate},on:{input:function(e){e.target.composing||(t.goDate=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"wrap__col"},[n("button",{staticClass:"wrap__btn",on:{click:t.search}},[t._v("\n        查詢\n      ")])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("div",{staticClass:"title__line"}),t._v(" "),n("h2",{staticClass:"title__tx"},[t._v("\n      時刻表與票價\n    ")]),t._v(" "),n("div",{staticClass:"title__line"})])}],!1,null,"5a026d54",null).exports),m=n(202),C={data:function(){return{msgData:[]}},created:function(){this.getMessageData()},methods:{getMessageData:function(){var t=this;this.$axios.get("/v2/Rail/THSR/News",{headers:this.getAuthorizationHeader()}).then((function(e){var n=JSON.parse(JSON.stringify(e.data));n.forEach((function(t){t.StartTime=l()(t.StartTime).format("YYYY/MM/DD")})),t.msgData=n}))},route:function(t){this.$router.push({path:"message",query:{data:m.a.encode(JSON.stringify(t))}})},getAuthorizationHeader:function(){var t=(new Date).toGMTString(),e=new o.a("SHA-1","TEXT");e.setHMACKey("f_cWs8Qm3fXmoY5H8jrA4aWbcog","TEXT"),e.update("x-date: "+t);var n=e.getHMAC("B64");return{Authorization:'hmac username="'.concat("4a642955ffbe4621967b643c51372922",'", algorithm="hmac-sha1", headers="x-date", signature="').concat(n,'"'),"X-Date":t}}}},w=(n(215),{components:{banner:_,trainSearch:f,newMessage:Object(v.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"mx-auto mb-12 h-container"},[t._m(0),t._v(" "),n("table",{staticClass:"table"},[t._m(1),t._v(" "),n("tbody",t._l(t.msgData,(function(e){return n("tr",{key:e.NewsID},[n("td",{staticClass:"align-center"},[t._v("\n          "+t._s(e.NewsCategory)+"\n        ")]),t._v(" "),n("td",[n("a",{staticClass:"table__link",attrs:{href:"javascript:void(0)"},on:{click:function(n){return t.route(e)}}},[t._v(t._s(e.Title))])]),t._v(" "),n("td",{staticClass:"align-center"},[t._v("\n          "+t._s(e.StartTime)+"\n        ")])])})),0)])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("div",{staticClass:"title__line"}),t._v(" "),n("h2",{staticClass:"title__tx"},[t._v("\n      最新消息\n    ")]),t._v(" "),n("div",{staticClass:"title__line"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("th",{attrs:{width:"85px"}},[t._v("\n        類別\n      ")]),t._v(" "),n("th",[t._v("標題")]),t._v(" "),n("th",{attrs:{width:"95px"}},[t._v("\n        日期\n      ")])])}],!1,null,"a7d7a52e",null).exports},data:function(){return{}}}),y=Object(v.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("banner"),t._v(" "),n("trainSearch",{attrs:{id:"trainSearch"}}),t._v(" "),n("newMessage",{attrs:{id:"newMessage"}})],1)}),[],!1,null,null,null);e.default=y.exports}}]);